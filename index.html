<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Sorter</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap');

        :root {
            --bg-color: #1d212b;
            --primary-text: #d0d0d0;
            --accent-color: #ff9800;
            --drop-zone-bg: rgba(255, 152, 0, 0.1);
            --drop-zone-border: #ff9800;
            --block-bg: #333a4c;
            --block-border: #4f586e;
            --correct-color: #4caf50;
            --incorrect-color: #f44336;
        }

        body {
            font-family: 'Roboto Mono', monospace;
            background-color: var(--bg-color);
            color: var(--primary-text);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            user-select: none;
        }

        .game-container {
            width: 900px;
            height: 650px;
            background-color: #282c37;
            border-radius: 10px;
            box-shadow: 0 0 25px rgba(0,0,0,0.5);
            padding: 25px;
            display: flex;
            flex-direction: column;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--block-border);
            margin-bottom: 20px;
            font-size: 1.2em;
        }

        #query-box {
            background-color: var(--bg-color);
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            font-size: 1.3em;
            margin-bottom: 25px;
            border: 1px dashed var(--block-border);
        }

        .game-main {
            display: flex;
            flex-grow: 1;
            gap: 20px;
        }

        #holding-area {
            flex-basis: 65%;
            border: 2px dashed var(--block-border);
            border-radius: 8px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
        }
        
        #processing-zone {
            flex-basis: 35%;
            border: 2px dashed var(--drop-zone-border);
            border-radius: 8px;
            background-color: var(--drop-zone-bg);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5em;
            color: var(--drop-zone-border);
            transition: background-color 0.3s;
        }

        #processing-zone.over {
            background-color: rgba(255, 152, 0, 0.25);
            transform: scale(1.02);
        }
        
        #processing-zone.correct {
            background-color: rgba(76, 175, 80, 0.3);
            border-color: var(--correct-color);
            color: var(--correct-color);
        }
        
        #processing-zone.incorrect {
            background-color: rgba(244, 67, 54, 0.3);
            border-color: var(--incorrect-color);
            color: var(--incorrect-color);
        }


        .data-block {
            background-color: var(--block-bg);
            border: 1px solid var(--block-border);
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            cursor: grab;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .data-block:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .data-block.dragging {
            opacity: 0.5;
            cursor: grabbing;
        }
        
        /* Pop-up Screens */
        .popup-screen {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(29, 33, 43, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            z-index: 100;
        }
        
        .popup-screen h1 {
            font-size: 3em;
            color: var(--accent-color);
        }
        
        .popup-screen p {
            max-width: 60%;
            font-size: 1.1em;
            line-height: 1.7;
        }

        .game-button {
            font-family: 'Roboto Mono', monospace;
            background: var(--accent-color);
            color: #fff;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
        }

    </style>
</head>
<body>

    <div id="start-screen" class="popup-screen">
        <h1>Data Sorter</h1>
        <p>Your mission is to process incoming data queries. Read the query at the top, then drag the correct data block from the holding area on the left into the orange processing zone on the right. An incorrect sort will cost you a life!</p>
        <button id="start-button" class="game-button">Begin Sorting</button>
    </div>

    <div id="end-screen" class="popup-screen" style="display: none;">
        <h1 id="end-title"></h1>
        <p id="end-score"></p>
        <button id="restart-button" class="game-button">Sort Again</button>
    </div>

    <div class="game-container" style="visibility: hidden;">
        <div class="game-header">
            <div id="score">SCORE: 0</div>
            <div id="lives">LIVES: 3</div>
        </div>
        <div id="query-box">
            <span id="question-text"></span>
        </div>
        <div class="game-main">
            <div id="holding-area">
                <!-- Data blocks will be generated here -->
            </div>
            <div id="processing-zone">
                <span>PROCESSING ZONE</span>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const gameData = [
                { question: "Query: Define 'Big Data'.", options: ["Any large collection of digital information.", "Datasets that are only about large volume.", "Extremely large and complex datasets that traditional data processing applications cannot handle.", "Data that is primarily stored in physical formats."], answer: 2 },
                { question: "Query: Identify the invalid 'V' of Big Data.", options: ["Volume", "Velocity", "Viscosity", "Value"], answer: 2 },
                { question: "Query: What is the primary business use of Big Data?", options: ["Ignoring customer behavior.", "To understand customer behavior, personalize marketing, and optimize operations.", "Reducing product offers.", "Sending generic emails."], answer: 1 },
                { question: "Query: What is the main collection method for Big Data?", options: ["Paper-based surveys.", "One-on-one interviews.", "Digital data streams from websites, social media, and IoT devices.", "Observing behaviors without tracking."], answer: 2 },
                { question: "Query: Identify a major ethical concern of Big Data.", options: ["Data becoming too valuable.", "Ensuring data privacy, fairness in algorithms, and responsible data usage.", "Creation of too many tech jobs.", "Development of smarter cars."], answer: 1 }
            ];

            // DOM Elements
            const gameContainer = document.querySelector('.game-container');
            const startScreen = document.getElementById('start-screen');
            const endScreen = document.getElementById('end-screen');
            const startButton = document.getElementById('start-button');
            const restartButton = document.getElementById('restart-button');
            const scoreEl = document.getElementById('score');
            const livesEl = document.getElementById('lives');
            const questionTextEl = document.getElementById('question-text');
            const holdingArea = document.getElementById('holding-area');
            const processingZone = document.getElementById('processing-zone');

            // Game State
            let score, lives, currentQuestionIndex, draggedItem;

            function initGame() {
                score = 0;
                lives = 3;
                currentQuestionIndex = 0;
                updateUI();
                loadQuestion();
                startScreen.style.display = 'none';
                endScreen.style.display = 'none';
                gameContainer.style.visibility = 'visible';
            }

            function loadQuestion() {
                if (currentQuestionIndex >= gameData.length) {
                    winGame();
                    return;
                }
                holdingArea.innerHTML = '';
                const q = gameData[currentQuestionIndex];
                questionTextEl.textContent = q.question;

                q.options.forEach((option, index) => {
                    const block = document.createElement('div');
                    block.classList.add('data-block');
                    block.draggable = true;
                    block.textContent = option;
                    block.dataset.answerIndex = index;
                    holdingArea.appendChild(block);
                });
            }

            function updateUI() {
                scoreEl.textContent = `SCORE: ${score}`;
                livesEl.textContent = `LIVES: ${lives}`;
            }

            function handleDrop(isCorrect) {
                processingZone.classList.remove('over');
                if (isCorrect) {
                    score += 100;
                    currentQuestionIndex++;
                    processingZone.classList.add('correct');
                    processingZone.firstElementChild.textContent = 'SORTED!';
                    setTimeout(() => {
                        processingZone.classList.remove('correct');
                        processingZone.firstElementChild.textContent = 'PROCESSING ZONE';
                        loadQuestion();
                    }, 1000);
                } else {
                    lives--;
                    processingZone.classList.add('incorrect');
                    processingZone.firstElementChild.textContent = 'ERROR!';
                    if (lives <= 0) {
                        setTimeout(loseGame, 1000);
                    }
                    setTimeout(() => {
                        processingZone.classList.remove('incorrect');
                        processingZone.firstElementChild.textContent = 'PROCESSING ZONE';
                    }, 1000);
                }
                updateUI();
            }
            
            function loseGame() {
                endGame(false);
            }

            function winGame() {
                endGame(true);
            }

            function endGame(isWin) {
                gameContainer.style.visibility = 'hidden';
                endScreen.style.display = 'flex';
                document.getElementById('end-title').textContent = isWin ? 'SORTING COMPLETE' : 'SYSTEM OVERLOAD';
                document.getElementById('end-score').textContent = `Final Score: ${score}`;
            }

            // Event Listeners
            startButton.addEventListener('click', initGame);
            restartButton.addEventListener('click', initGame);

            // Drag and Drop Logic
            holdingArea.addEventListener('dragstart', e => {
                if (e.target.classList.contains('data-block')) {
                    draggedItem = e.target;
                    setTimeout(() => e.target.classList.add('dragging'), 0);
                }
            });

            holdingArea.addEventListener('dragend', e => {
                if (draggedItem) {
                    draggedItem.classList.remove('dragging');
                    draggedItem = null;
                }
            });

            processingZone.addEventListener('dragover', e => {
                e.preventDefault();
                processingZone.classList.add('over');
            });

            processingZone.addEventListener('dragleave', () => {
                processingZone.classList.remove('over');
            });

            processingZone.addEventListener('drop', e => {
                e.preventDefault();
                if (draggedItem) {
                    const correctIndex = gameData[currentQuestionIndex].answer;
                    const droppedIndex = parseInt(draggedItem.dataset.answerIndex);
                    handleDrop(correctIndex === droppedIndex);
                    draggedItem.remove();
                    draggedItem = null;
                }
            });
        });
    </script>

</body>
</html>
